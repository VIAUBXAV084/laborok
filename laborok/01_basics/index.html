<!DOCTYPE html><html lang="hu" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Ekler Péter, Gazdi László, Pásztor Dániel, Somogyi Norbert Zsolt">
      
      
      
        <link rel="prev" href="../../tudnivalok/github/contributing/">
      
      
        <link rel="next" href="../../hf/">
      
      <link rel="icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.14">
    
    
      
        <title>1. Labor - Kotlin Multiplatform alapok, környezet megismerése - BMEVIAUBXAV084 - Kotlin Multiplatform alapú szoftverfejlesztés laborfeladatok</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.113286f1.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/timeago.css">
    
      <link rel="stylesheet" href="../../extra-material-theme.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="aut" data-md-color-primary="red" data-md-color-accent="red">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-labor-kotlin-multiplatform-alapok-kornyezet-megismerese" class="md-skip">
          Kihagyás
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Élőfej">
    <a href="../.." title="BMEVIAUBXAV084 - Kotlin Multiplatform alapú szoftverfejlesztés laborfeladatok" class="md-header__button md-logo" aria-label="BMEVIAUBXAV084 - Kotlin Multiplatform alapú szoftverfejlesztés laborfeladatok" data-md-component="logo">
      
  <img src="../../logo-bme-aut.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BMEVIAUBXAV084 - Kotlin Multiplatform alapú szoftverfejlesztés laborfeladatok
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              1. Labor - Kotlin Multiplatform alapok, környezet megismerése
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="aut" data-md-color-primary="red" data-md-color-accent="red" aria-label="Váltás sötét témára" type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Váltás sötét témára" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"></path></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="" aria-label="Váltás világos témára" type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Váltás világos témára" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"></path></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Keresés" placeholder="Keresés" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Keresés">
        
        <button type="reset" class="md-search__icon md-icon" title="Törlés" aria-label="Törlés" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Keresés inicializálása
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/viaubxav084/laborok" title="Főoldalra ugrás" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
  </div>
  <div class="md-source__repository">
    viaubxav084/laborok
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Lapok" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        Tudnivalók
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        Laborok
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../hf/" class="md-tabs__link">
        Házi feladat
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigáció" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="BMEVIAUBXAV084 - Kotlin Multiplatform alapú szoftverfejlesztés laborfeladatok" class="md-nav__button md-logo" aria-label="BMEVIAUBXAV084 - Kotlin Multiplatform alapú szoftverfejlesztés laborfeladatok" data-md-component="logo">
      
  <img src="../../logo-bme-aut.png" alt="logo">

    </a>
    BMEVIAUBXAV084 - Kotlin Multiplatform alapú szoftverfejlesztés laborfeladatok
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/viaubxav084/laborok" title="Főoldalra ugrás" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
  </div>
  <div class="md-source__repository">
    viaubxav084/laborok
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1">
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Tudnivalók
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Tudnivalók
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Tárgy ismertető
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tudnivalok/github/GitHub/" class="md-nav__link">
        Feladatok beadása (GitHub)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tudnivalok/github/GitHub-Actions/" class="md-nav__link">
        GitHub Actions ismertető
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tudnivalok/github/contributing/" class="md-nav__link">
        Hozzájárulás az anyaghoz
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Laborok
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Laborok
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          1. Labor - Kotlin Multiplatform alapok, környezet megismerése
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        1. Labor - Kotlin Multiplatform alapok, környezet megismerése
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tartalomjegyzék">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tartalomjegyzék
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bevezeto" class="md-nav__link">
    Bevezető
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elokeszuletek" class="md-nav__link">
    Előkészületek
  </a>
  
    <nav class="md-nav" aria-label="Előkészületek">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#git-repository-letrehozasa-es-letoltese" class="md-nav__link">
    Git repository létrehozása és letöltése
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fejlesztoi-kornyezet-kialakitasa" class="md-nav__link">
    Fejlesztői környezet kialakítása
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#android-alapok-kiegeszito-anyag" class="md-nav__link">
    Android alapok (kiegészítő anyag)
  </a>
  
    <nav class="md-nav" aria-label="Android alapok (kiegészítő anyag)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forditas-menete-android-platformon" class="md-nav__link">
    Fordítás menete Android platformon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sdk-es-konyvtarai" class="md-nav__link">
    SDK és könyvtárai
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avd-es-sdk-manager" class="md-nav__link">
    AVD és SDK manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avd" class="md-nav__link">
    AVD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#android-studio-hasznos-tudnivalok" class="md-nav__link">
    Android Studio hasznos tudnivalók
  </a>
  
    <nav class="md-nav" aria-label="Android Studio hasznos tudnivalók">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#android-studio" class="md-nav__link">
    Android Studio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#billentyukombinaciok" class="md-nav__link">
    Billentyűkombinációk
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eszkozok-szerkesztok" class="md-nav__link">
    Eszközök, szerkesztők
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasznos-beallitasok" class="md-nav__link">
    Hasznos beállítások
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generalhato-elemek" class="md-nav__link">
    Generálható elemek
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#android-profiler" class="md-nav__link">
    Android Profiler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-inspector" class="md-nav__link">
    Database Inspector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#device-file-explorer" class="md-nav__link">
    Device File Explorer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiindulo-alkalmazas-generalasa" class="md-nav__link">
    Kiinduló alkalmazás generálása
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#projekt-szerkezetenek-attekintese" class="md-nav__link">
    Projekt szerkezetének áttekintése
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kotlin-multiplatform-projektek-konfiguralasa-gradlevel" class="md-nav__link">
    Kotlin Multiplatform projektek konfigurálása Gradlevel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gradle-taskok" class="md-nav__link">
    Gradle taskok
  </a>
  
    <nav class="md-nav" aria-label="Gradle taskok">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#altalanos-taskok-forditas-es-tesztek-futtatasa" class="md-nav__link">
    Általános taskok: fordítás és tesztek futtatása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-alkalmazas-futtatasa" class="md-nav__link">
    Az alkalmazás futtatása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-alkalmazas-disztribucioja" class="md-nav__link">
    Az alkalmazás disztribúciója
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forraskod-attekintese" class="md-nav__link">
    Forráskód áttekintése
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forraskod-bovitese" class="md-nav__link">
    Forráskód bővítése
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onallo-feladat-calculator-osztaly-hozzaadasa" class="md-nav__link">
    Önálló feladat - Calculator osztály hozzáadása
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3">
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Házi feladat
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Házi feladat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hf/" class="md-nav__link">
        Házi feladat információk
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tartalomjegyzék">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tartalomjegyzék
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bevezeto" class="md-nav__link">
    Bevezető
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elokeszuletek" class="md-nav__link">
    Előkészületek
  </a>
  
    <nav class="md-nav" aria-label="Előkészületek">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#git-repository-letrehozasa-es-letoltese" class="md-nav__link">
    Git repository létrehozása és letöltése
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fejlesztoi-kornyezet-kialakitasa" class="md-nav__link">
    Fejlesztői környezet kialakítása
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#android-alapok-kiegeszito-anyag" class="md-nav__link">
    Android alapok (kiegészítő anyag)
  </a>
  
    <nav class="md-nav" aria-label="Android alapok (kiegészítő anyag)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forditas-menete-android-platformon" class="md-nav__link">
    Fordítás menete Android platformon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sdk-es-konyvtarai" class="md-nav__link">
    SDK és könyvtárai
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avd-es-sdk-manager" class="md-nav__link">
    AVD és SDK manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avd" class="md-nav__link">
    AVD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#android-studio-hasznos-tudnivalok" class="md-nav__link">
    Android Studio hasznos tudnivalók
  </a>
  
    <nav class="md-nav" aria-label="Android Studio hasznos tudnivalók">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#android-studio" class="md-nav__link">
    Android Studio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#billentyukombinaciok" class="md-nav__link">
    Billentyűkombinációk
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eszkozok-szerkesztok" class="md-nav__link">
    Eszközök, szerkesztők
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasznos-beallitasok" class="md-nav__link">
    Hasznos beállítások
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generalhato-elemek" class="md-nav__link">
    Generálható elemek
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#android-profiler" class="md-nav__link">
    Android Profiler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-inspector" class="md-nav__link">
    Database Inspector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#device-file-explorer" class="md-nav__link">
    Device File Explorer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiindulo-alkalmazas-generalasa" class="md-nav__link">
    Kiinduló alkalmazás generálása
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#projekt-szerkezetenek-attekintese" class="md-nav__link">
    Projekt szerkezetének áttekintése
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kotlin-multiplatform-projektek-konfiguralasa-gradlevel" class="md-nav__link">
    Kotlin Multiplatform projektek konfigurálása Gradlevel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gradle-taskok" class="md-nav__link">
    Gradle taskok
  </a>
  
    <nav class="md-nav" aria-label="Gradle taskok">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#altalanos-taskok-forditas-es-tesztek-futtatasa" class="md-nav__link">
    Általános taskok: fordítás és tesztek futtatása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-alkalmazas-futtatasa" class="md-nav__link">
    Az alkalmazás futtatása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-alkalmazas-disztribucioja" class="md-nav__link">
    Az alkalmazás disztribúciója
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forraskod-attekintese" class="md-nav__link">
    Forráskód áttekintése
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forraskod-bovitese" class="md-nav__link">
    Forráskód bővítése
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onallo-feladat-calculator-osztaly-hozzaadasa" class="md-nav__link">
    Önálló feladat - Calculator osztály hozzáadása
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="1-labor-kotlin-multiplatform-alapok-kornyezet-megismerese">1. Labor - Kotlin Multiplatform alapok, környezet megismerése<a class="headerlink" href="#1-labor-kotlin-multiplatform-alapok-kornyezet-megismerese" title="Permanent link">¶</a></h1>
<h2 id="bevezeto">Bevezető<a class="headerlink" href="#bevezeto" title="Permanent link">¶</a></h2>
<p>A labor során megismerjük a Kotlin Multiplatform (KMP) alapú alkalmazások fejlesztéséhez használandó környezetet és megvizsgáljuk azt egy egyszerű alkalmazáson keresztül. A labor célja, hogy a későbbiekhez alapul szolgáljon a fejlesztőkörnyezet és a KMP projektek felépítése, konfigurálása és futtatása szempontjából.</p>
<h2 id="elokeszuletek">Előkészületek<a class="headerlink" href="#elokeszuletek" title="Permanent link">¶</a></h2>
<p>A feladatok megoldása során ne felejtsük el követni a <a href="../../tudnivalok/github/GitHub/">feladat beadás folyamatát</a>.</p>
<h3 id="git-repository-letrehozasa-es-letoltese">Git repository létrehozása és letöltése<a class="headerlink" href="#git-repository-letrehozasa-es-letoltese" title="Permanent link">¶</a></h3>
<ol>
<li>
<p>Moodle-ben keressük meg a laborhoz tartozó meghívó URL-jét és annak segítségével hozzuk létre a saját repositoryt.</p>
</li>
<li>
<p>Várjuk meg, míg elkészül a repository, majd checkout-oljuk ki.</p>
</li>
<li>
<p>Hozzunk létre egy új ágat <code>megoldas</code> néven, és ezen az ágon dolgozzunk.</p>
</li>
<li>
<p>A <code>neptun.txt</code> fájlba írjuk bele a Neptun kódunkat. A fájlban semmi más ne szerepeljen, csak egyetlen sorban a Neptun kód 6 karaktere.</p>
</li>
</ol>
<h2 id="fejlesztoi-kornyezet-kialakitasa">Fejlesztői környezet kialakítása<a class="headerlink" href="#fejlesztoi-kornyezet-kialakitasa" title="Permanent link">¶</a></h2>
<p>Kotlin Multiplatform alkalmazások fejlesztéséhez a JetBrains hivatalosan az Android Studiot vagy az Intellij Ideat ajánlja. Funkcionalitásban ekvivalensek, az Android Studio kényelmesebb támogatást ad Android fejlesztéshez, az Intellij Idea pedig Java / Kotlin alapú JVM alkalmazások fejlesztéséhez áll jobban kézre.  Mivel Android platformra való futtatáshoz amúgy is szükség lesz emulátorra (vagy saját fizikai eszközre), ezért kényelmes választás az Android Studio (bár Idea-ban vagy akár parancssorból is megoldható az emulátorok kezelése és futtatása). A tárgyon az Android Studiot fogjuk használni ás a laborok útmutatója arra vonatkozik, de preferencia szerint az Intellij Idea is használható.</p>
<div class="admonition info">
<p class="admonition-title">Verziószámok</p><p>A későbbiekben problémákat okozhatnak a régebbi verziójú fejlesztőkörnyezetek a tárgyban kiadott segédanyagokkal és laborokkal kapcsolatban, ezért célszerű a legújabb stabil releaset használni. Ez jelenleg Android Studio Panda 1 (2025.3.1), illetve Intellij Community Edition 2025.3.2, (Build: 253.30387.90).</p>
<p></p>
</div>
<div class="admonition note">
<p class="admonition-title">Fleet</p><p>Régebben a Kotlin Multiplatform fejlesztéshez a JetBrains egy kifejezetten erre a célra fejlesztett standalone fejlesztőkörnyezetet, a <em>Fleet</em>-et javasolta. Ennek támogatottsága azonban nemrég megszűnt, ezért a jövőben Android Studio vagy Intellij Idea használata javasolt.</p>
<p></p>
</div>
<p>Amennyiben még nincs telepítve megfelelő verziójú fejlesztőkörnyezet, töltsük le és telepítsük az <a href="https://developer.android.com/studio/releases"><em>Android Studiot</em></a> vagy az <a href="https://www.jetbrains.com/idea/download/?section=windows"><em>Intellij Ideat</em></a>.</p>
<p>Akármelyiket is választottuk, telepítsük a <em>Kotlin Multiplatform</em> plugint is.</p>
<h2 id="android-alapok-kiegeszito-anyag">Android alapok (kiegészítő anyag)<a class="headerlink" href="#android-alapok-kiegeszito-anyag" title="Permanent link">¶</a></h2>
<p>A következőkben az Android alapjairól, a fordítás folyamatáról, az SDK telepítéséről, az AVD használatáról és az Android Studio felépítéséről és eszközeiről olvashatunk. Mindezek közül számunkra a továbbiakban közvetlenül az emulátorok használata a legfontosabb, hiszen ezen tudjuk elsősorban futtatni a Kotlin Multiplatform projektünket Android platformon, de ha nem találkoztunk még Androiddal, célszerű legalább egyszer átfutni a többi részét is. Amennyiben mindezt már ismerjük, ugorjuk át ezt a szekciót és folytassuk a <em>Kiinduló alkalmazás generálása</em> pontnál.</p>
<h3 id="forditas-menete-android-platformon">Fordítás menete Android platformon<a class="headerlink" href="#forditas-menete-android-platformon" title="Permanent link">¶</a></h3>
<p>Egy android projekt létrehozása után a forráskód az <code>src</code> könyvtárban van. A felhasználói felület leírására régebben XML-t használtak, manapság már Jetpack Compose használata javasolt, azonban előfordulhatnak még régebbi rendszerek vagy egyéb szélsőséges esetek miatt XML alapú felületleírók is. Ezek az esetleges XML állományok a <code>res</code> könyvtárban találhatók, amennyiben vannak ilyenek. Az erőforrás állományokat egy <code>R.java</code> állomány köti össze a forráskóddal, így könnyedén elérhetjük Java/Kotlin oldalról az XML-ben definiált felületi elemeket. Az Android projekt fordításának eredménye egy APK állomány, melyet közvetlenül telepíthetünk mobil eszközre.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/lab-1-compile.png" data-desc-position="bottom"><img alt="" src="assets/lab-1-compile.png"></a></p>
<p><em>Fordítás menete Android platformon</em></p>
<ol>
<li>
<p>A fejlesztő elkészíti a Kotlin forráskódot, valamint az esetleges XML alapú felhasználói felület leírást a szükséges erőforrás állományokkal.</p>
</li>
<li>
<p>A fejlesztőkörnyezet az erőforrás állományokból folyamatosan naprakészen tartja az <code>R.java</code> erőforrás fájlt a fejlesztéshez és a fordításhoz. </p>
<div class="admonition danger">
<p class="admonition-title">FONTOS</p>
<p><strong>Az <code>R.java</code> állomány generált, kézzel SOHA ne módosítsuk!</strong> (Az Android Studio egyébként nem is hagyja.)</p>
</div>
</li>
<li>
<p>A fejlesztő a Manifest állományban beállítja az alkalmazás hozzáférési jogosultságait (pl. Internet elérés, szenzorok használata, stb.), illetve ha futás idejű jogosultságok szükségesek, ezt kezeli.</p>
</li>
<li>
<p>A fordító a forráskódból, az erőforrásokból és a külső könyvtárakból előállítja az <a href="https://source.android.com/docs/core/dalvik"><strong>ART</strong></a> virtuális gép gépi kódját.</p>
</li>
<li>
<p>A gépi kódból és az erőforrásokból előáll a nem aláírt APK állomány.</p>
</li>
<li>
<p>Végül a rendszer végrehajtja az aláírást és előáll a készülékekre telepíthető, aláírt APK.</p>
</li>
</ol>
<p>Az Android Studio a <a href="https://gradle.org/">Gradle</a> build rendszert használja ezeknek a lépéseknek az elvégézéséhez.</p>
<div class="admonition note">
<p class="admonition-title">Megjegyzések</p>
<ul>
<li>
<p>A teljes folyamat a fejlesztői gépen megy végbe, a készülékekre már csak bináris állomány jut el.</p>
</li>
<li>
<p>A külső könyvtárak általában JAR állományként, vagy egy másik projekt hozzáadásával illeszthetők az aktuális projekthez (de ezt nem kell kézzel megtennünk, a függőségek kezelésében is a Gradle fog segíteni).</p>
</li>
<li>
<p>Az APK állomány leginkább a Java világban ismert JAR állományokhoz hasonlítható.</p>
</li>
<li>
<p>A Manifest állományban meg kell adni a támogatni kívánt Android verziót, mely felfele kompatibilis az újabb verziókkal, ennél régebbi verzióra azonban az alkalmazás már nem telepíthető.</p>
</li>
<li>
<p>Az Android folyamatosan frissülő verzióival folymatosan lépést kell tartaniuk a fejlesztőknek.</p>
</li>
<li>
<p>Az Android alkalmazásokat tipikusan a Google Play Store-ban szokták publikálni, így az APK formátumban való terjesztés nem annyira elterjedt.</p>
</li>
</ul>
</div>
<h3 id="sdk-es-konyvtarai">SDK és könyvtárai<a class="headerlink" href="#sdk-es-konyvtarai" title="Permanent link">¶</a></h3>
<p>A <a href="https://developer.android.com/studio">developer.android.com/studio</a> oldalról külön is letölthető az SDK. Ennek fontosabb mappáit, eszközeit tekintsük át!</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/ide_android.png" data-desc-position="bottom"><img alt="" src="assets/ide_android.png"></a></p>
<p>SDK szerkezet:</p>
<ul>
<li><code>docs:</code> Dokumentáció</li>
<li><code>extras:</code> Különböző extra szoftverek helye. Maven repository, support libes anyagok, analytics SDK, Google <a href="https://developer.android.com/studio/run/win-usb.html">Android USB driver</a> (amennyiben SDK managerrel ezt is letöltöttük) stb.</li>
<li><code>platform-tools:</code> Fastboot és ADB binárisok helye (legtöbbet használt eszközök)</li>
<li><code>platforms</code>, <code>samples</code>, <code>sources</code>, <code>system-images:</code> Minden API levelhez külön almappában a platform anyagok, források, példaprojektek, OS image-ek</li>
<li><code>tools:</code> Fordítást és tesztelést segítő eszközök, SDK manager, 9Patch drawer, emulátor binárisok stb.</li>
</ul>
<h3 id="avd-es-sdk-manager">AVD és SDK manager<a class="headerlink" href="#avd-es-sdk-manager" title="Permanent link">¶</a></h3>
<p>Az SDK kezelésére az SDK managert használjuk, ezzel lehet letölteni és frissen tartani az eszközeinket. Indítása az Android Studion keresztül lehetséges.</p>
<p>Az SDK Manager ikonja a fenti toolbaron (vagy Tools -&gt; SDK Manager):</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/sdk_manager_icon.png" data-desc-position="bottom"><img alt="" src="assets/sdk_manager_icon.png"></a></p>
<p>vagy</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/sdk_manager_icon_2.png" data-desc-position="bottom"><img alt="" src="assets/sdk_manager_icon_2.png"></a></p>
<p>SDK manager felülete:</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/sdk_manager.png" data-desc-position="bottom"><img alt="" src="assets/sdk_manager.png"></a></p>
<div class="admonition note">
<p class="admonition-title">Megjegyzés</p>
<p>Korábban létezett egy standalone SDK manager de ennek használata mára deprecated lett. Ha online forrásokban ilyet látunk ne lepődjünk meg.</p>
</div>
<p>Indítsuk el az AVD managert!</p>
<h3 id="avd">AVD<a class="headerlink" href="#avd" title="Permanent link">¶</a></h3>
<p>Az AVD az Android Virtual Device rövidítése. Nem csak valódi eszközön futtathatjuk a kódunkat, hanem emulátoron is. Az AVD indítása a fejlesztői környezeten keresztül lehetséges, illetve parancssorból is.</p>
<p>Az AVD Manager ikonja:</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/avd_icon.png" data-desc-position="bottom"><img alt="" src="assets/avd_icon.png"></a></p>
<p>vagy</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/avd_icon_2.png" data-desc-position="bottom"><img alt="" src="assets/avd_icon_2.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/avd_manager.png" data-desc-position="bottom"><img alt="" src="assets/avd_manager.png"></a></p>
<p>A fenti képen jobb oldalon, a kinyíló panelben, a létező virtuális eszközök listáját találjuk, bal oldalon pedig az ún. eszköz definíciókét. Itt néhány előre elkészített sablon áll rendelkezésre. Magunk is készíthetünk ilyet, ha tipikusan egy adott eszközre szeretnénk fejleszteni (pl. Galaxy S4). Készítsünk új emulátort! Értelemszerűen csak olyan API szintű eszközt készíthetünk, amilyenek rendelkezésre állnak az SDK manageren keresztül.</p>
<ol>
<li>A jobb oldali panelon kattintsunk a fent található <em>Create Virtual Device...</em> gombra!</li>
<li>Válasszunk az előre definiált készülék sablonokból (pl. <em>Pixel 7 Pro</em>), majd nyomjuk meg a <em>Next</em> gombot.</li>
<li>Döntsük el, hogy milyen Android verziójú emulátort kívánunk használni. CPU/ABI alapvetően x86_64 legyen, mivel ezekhez kapunk <a href="https://developer.android.com/studio/run/emulator-acceleration">hardveres gyorsítást</a> is. Itt válasszunk a rendelkezésre állók közül egyet, majd <em>Next</em>.</li>
<li>
<p>Az eszköz részletes konfigurációja.</p>
<ul>
<li>A virtuális eszköz neve legyen például <code>Labor_1</code>.</li>
<li>Válasszuk ki az alapértelmezett orientációt, tetszés szerint kapcsoljuk ki vagy be a készülék keretének megjelenítését.</li>
</ul>
<p>A <em>Show Advanced Settings</em> alatt további opciókat találunk:</p>
<ul>
<li>Kamera opciók:<ul>
<li><em>WebcamX</em>, hardveres kamera, ami a számítógépre van csatlakoztatva</li>
<li><em>Emulated</em>, egy egyszerű szoftveres megoldás, <strong>most legalább az egyik kamera legyen ilyen</strong>.</li>
<li><em>VirtualScene</em>, egy kifinomultabb szoftveres megoldás, amelyben egy 3D világban mozgathatjuk a kamerát.</li>
</ul>
</li>
<li>Hálózat: Állíthatjuk a sebességét és a késleltetését is kommunikációs technológiák szerint.</li>
<li><em>Boot Option</em>: Nemrég jelent meg az Android emulátor állapotáról való pillanatkép elmentésének lehetősége. Ez azt takarja, hogy a virtuális operációs rendszer csak felfüggesztésre kerül az emulátor bezáráskor (például a megnyitott alkalmazás is megmarad, a teljes állapotával), és <em>Quick boot</em> esetben a teljes OS indítása helyett másodperceken belül elindul az emulált rendszer. <em>Cold Boot</em> esetben minden alkalommal leállítja és újra indítja a virtális eszköz teljes operációs rendszerét.</li>
<li>
<p>Memória és tárhely: </p>
<ul>
<li>RAM: Ha kevés a rendszermemóriánk, nem érdemes 768 MB-nál többet adni, mert könnyen futhatunk problémákba. Ha az emulátor lefagy, vagy az egész OS megáll működés közben, akkor állítsuk alacsonyabbra ezt az értéket. 16 GB vagy több rendszermemória mellett nyugodtan állíthatjuk az emulátor memóriáját jóval magasabb értékekre.</li>
<li>VM heap: az alkalmazások virtuális gépének szól, maradhat az alapérték. Tudni kell, hogy készülékek esetében gyártónként változik.</li>
<li>Belső flash memória és SD kártya mérete, alapvetően jók az alapértelmezett beállításai.</li>
</ul>
</li>
<li>
<p>Ha mindent rendben talál az ablak, akkor <em>Finish</em>!</p>
</li>
</ul>
</li>
</ol>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/avd_create.png" data-desc-position="bottom"><img alt="" src="assets/avd_create.png"></a></p>
<p>Az Android Virtual Device Manager-ben megjelent az imént létrehozott eszközünk. Itt lehetőség van a korábban megadott paraméterek szerkesztésére, a "készülékről" a felhasználói adatok törlésére (<em>Wipe Data</em> - Teljes visszaállítás), illetve az emulátor példány duplikálására vagy törlésére.</p>
<p>A Play gombbal indítsuk el az új emulátort!</p>
<p>Az elindított emulátoron próbáljuk ki az <em>API Demos</em> és <em>Dev Tools</em> alkalmazásokat!</p>
<div class="admonition note">
<p class="admonition-title">Megjegyzés</p>
<p>A gyári emulátoron kívül több alternatíva is létezik, mint pl. a <a href="https://www.genymotion.com/fun-zone/">Genymotion</a> vagy a <a href="https://www.bignox.com/">BigNox</a>, viszont a Google féle emulátor a legelterjedtebb, így amennyiben ezzel nem jelentkeznek problémáink, maradjunk ennél.</p>
</div>
<p>Tesztelés céljából nagyon jól használható az emulátor, amely az alábbi képen látható plusz funkciókat is adja. Lehetőség van többek között egyedi hely beállítására, bejövő hívás szimulálására, stb. A panelt a futó emulátor jobb oldalán található vezérlő gombok közül a <em>...</em> gombbal lehet megnyitni:</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/avd_extras.png" data-desc-position="bottom"><img alt="" src="assets/avd_extras.png"></a></p>
<h3 id="android-studio-hasznos-tudnivalok">Android Studio hasznos tudnivalók<a class="headerlink" href="#android-studio-hasznos-tudnivalok" title="Permanent link">¶</a></h3>
<h4 id="android-studio">Android Studio<a class="headerlink" href="#android-studio" title="Permanent link">¶</a></h4>
<p>Tekintsük át az Android Studio alapvető funkcióit.</p>
<ul>
<li><strong>Import régi projektekből:</strong> Android Studioban lehetséges a projekt importálása régebbi verziójú projektekből és a régi Eclipse projektekből is.</li>
<li>
<p><strong>Projektstruktúra:</strong> Az Android Studio Gradle-lel fordít. Projekten belül:</p>
<ul>
<li><code>.idea</code>: IDE fájlok</li>
<li><code>app</code>: forrás<ul>
<li><code>build</code>: fordított állományok</li>
<li><code>libs</code>: libraryk</li>
<li><code>src</code>: forráskód, azon belül is külön projekt a tesztnek, és azon belül pedig <code>res</code> könyvtár, illetve <code>java</code>. Utóbbin belül már a csomagok vannak.</li>
</ul>
</li>
<li><code>gradle</code>: Gradle fájlok</li>
</ul>
</li>
<li>
<p><strong>Hasznos funkciók:</strong></p>
<ul>
<li>IntelliSense, fejlett refaktorálás támogatás</li>
<li>Ha egy sorban színre, vagy képi erőforrásra hivatkozunk, a sor elejére kitesz egy miniatűr változatot.</li>
<li>Ha közvetve hivatkozott erőforrást (akár <code>resources.get...</code>, akár <code>R...</code>) adunk meg, összecsukja a hivatkozást és a tényleges értéket mutatja. Ha rávisszük az egeret felfedi, ha kattintunk kibontja a hivatkozást.</li>
<li>Névtelen belső osztályokkal is hasonlót tud, javítva a kód olvashatóságát.</li>
<li>Kódkiegészítésnél szabad a kereső, a szótöredéket keresi, nem pedig a szóval kezdődő lehetőségeket (lásd képen)</li>
<li>Változónév ajánlás: amikor változónévre van szükségünk, nyomjunk <em>Ctrl+Space</em>-t. Ha adottak a körülmények, a Studio egész jó neveket tud felajánlani.</li>
<li>Szigorú lint. A Studio megengedi a warningot. Ezért szigorúbb a lint, több mindenre figyelmeztet (olyan apróságra is, hogy egy View egyik oldalán van padding, a másikon nincs)</li>
<li>Layout szerkesztés. A grafikus layout építés lehetséges.</li>
<li>CTRL-t lenyomva navigálhatunk a kódban, pl. osztályra, metódushívásra kattintva. Ezt a navigációt (és az egyszerű másik osztályba kattintást is) rögzíti, és a historyban előre-hátra gombokkal lehet lépkedni. Ha van az egerünkön/billentyűzetünkön ilyen gomb, és netes böngészés közben aktívan használjuk, ezt a funkciót nagyon hasznosnak fogjuk találni.</li>
</ul>
</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/nice_studio.png" data-desc-position="bottom"><img alt="" src="assets/nice_studio.png"></a></p>
<p><em>Szín ikonja a sor elején; kiemelve jobb oldalon, hogy melyik nézeten vagyunk; szabadszavas kiegészítés; a "Hello world" igazából <code>@string/very_very_very_long_hello_world</code>.</em></p>
<h4 id="billentyukombinaciok">Billentyűkombinációk<a class="headerlink" href="#billentyukombinaciok" title="Permanent link">¶</a></h4>
<ul>
<li><kbd>CTRL</kbd> + <kbd>ALT</kbd> + <kbd>L</kbd>: Kódformázás</li>
<li><kbd>CTRL</kbd> + <kbd>SPACE</kbd>: Kódkiegészítés</li>
<li><kbd>SHIFT</kbd> + <kbd>F6</kbd> Átnevezés (Mindenhol)</li>
<li><kbd>F2</kbd>: A következő error-ra ugrik. Ha nincs error, akkor warningra.</li>
<li><kbd>CTRL</kbd> + <kbd>Z</kbd> illetve <kbd>CTRL</kbd> + <kbd>SHIFT</kbd> + <kbd>Z</kbd>: Visszavonás és Mégis</li>
<li><kbd>CTRL</kbd> + <kbd>P</kbd>: Paraméterek mutatása</li>
<li><kbd>ALT</kbd> + <kbd>INSERT</kbd>: Metódus generálása</li>
<li><kbd>CTRL</kbd> + <kbd>O</kbd>: Metódus felüldefiniálása</li>
<li><kbd>CTRL</kbd> + <kbd>F9</kbd>: Fordítás</li>
<li><kbd>SHIFT</kbd> + <kbd>F10</kbd>: Fordítás és futtatás</li>
<li><kbd>SHIFT</kbd> <kbd>SHIFT</kbd>: Keresés mindenhol</li>
<li><kbd>CTRL</kbd> + <kbd>N</kbd>: Keresés osztályokban</li>
<li><kbd>CTRL</kbd> + <kbd>SHIFT</kbd> + <kbd>N</kbd>: Keresés fájlokban</li>
<li><kbd>CTRL</kbd> + <kbd>ALT</kbd> + <kbd>SHIFT</kbd> + <kbd>N</kbd>: Keresés szimbólumokban (például függvények, property-k)</li>
<li><kbd>CTRL</kbd> + <kbd>SHIFT</kbd> + <kbd>A</kbd>: Keresés a beállításokban, kiadható parancsokban.</li>
</ul>
<h4 id="eszkozok-szerkesztok">Eszközök, szerkesztők<a class="headerlink" href="#eszkozok-szerkesztok" title="Permanent link">¶</a></h4>
<p>A <em>View</em> menü <em>Tool Windows</em> menüpontjában lehetőség van különböző ablakok ki- és bekapcsolására. Próbáljuk ki és nézzük meg a következő ablakokat!</p>
<ul>
<li>Project</li>
<li>Structure</li>
<li>TODO</li>
<li>Logcat</li>
<li>Terminal</li>
<li>Event Log</li>
<li>Gradle</li>
</ul>
<p>Lehetőség van felosztani a szerkesztőablakot, ehhez kattinsunk egy megnyitott fájl tabfülére jobb gombbal, <em>Split Vertically/Horizontally</em>!</p>
<h4 id="hasznos-beallitasok">Hasznos beállítások<a class="headerlink" href="#hasznos-beallitasok" title="Permanent link">¶</a></h4>
<ul>
<li>kis- nagybetű érzékenység kikapcsolása a kódkiegészítőben (settingsben keresés: <em>sensitive</em>)</li>
<li>"laptop mód" ki- és bekapcsolása (<em>File -&gt; Power Save Mode</em>)</li>
<li>sorszámozás bekapcsolása (kód melletti részen bal oldalt: jobb egérgomb, <em>Show Line Numbers</em>)</li>
</ul>
<h4 id="generalhato-elemek">Generálható elemek<a class="headerlink" href="#generalhato-elemek" title="Permanent link">¶</a></h4>
<p>A Studio sok sablont tartalmaz, röviden tekintsük át a lehetőségeket:</p>
<ul>
<li>Projektfában, projektre jobb gombbal kattintva -&gt; new -&gt; module</li>
<li>Projektfában, modulon belül, "java"-ra kattintva jobb gombbal -&gt; new</li>
<li>Forráskódban <kbd>ALT</kbd>+<kbd>INSERT</kbd> billentyűkombinációra</li>
</ul>
<h4 id="android-profiler">Android Profiler<a class="headerlink" href="#android-profiler" title="Permanent link">¶</a></h4>
<p>A készülék erőforráshasználata <a href="https://developer.android.com/studio/profile/android-profiler">monitorozható</a> ezen a felületen, amelyet az említett <em>View -&gt; Tool Windows</em>-ból érhetünk el.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/ap.png" data-desc-position="bottom"><img alt="" src="assets/ap.png"></a></p>
<p>Például részletes információt kaphatunk a hálózati forgalomról:</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/ap_network.png" data-desc-position="bottom"><img alt="" src="assets/ap_network.png"></a></p>
<h4 id="database-inspector">Database Inspector<a class="headerlink" href="#database-inspector" title="Permanent link">¶</a></h4>
<p>A készüléken debuggolt alkalmazásunknak az <a href="https://developer.android.com/studio/inspect/database">adatbázisát</a> is meg tudjuk tekinteni.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/di.png" data-desc-position="bottom"><img alt="" src="assets/di.png"></a></p>
<h4 id="device-file-explorer">Device File Explorer<a class="headerlink" href="#device-file-explorer" title="Permanent link">¶</a></h4>
<p>A készüléken lévő fájlrendszert is <a href="https://developer.android.com/studio/debug/device-file-explorer">böngészhetjük</a>.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="assets/dfe.png" data-desc-position="bottom"><img alt="" src="assets/dfe.png"></a></p>
<h2 id="kiindulo-alkalmazas-generalasa">Kiinduló alkalmazás generálása<a class="headerlink" href="#kiindulo-alkalmazas-generalasa" title="Permanent link">¶</a></h2>
<p>Kotlin Multiplatform projektek generálására az ajánlott módszer a fejlesztőkörnyezetben, a Kotlin Multiplatform plugin által adott varázsló használata. Android Studioban a szükséges templatet a File &gt; New &gt; New Project &gt; Generic &gt; Kotlin Multiplatform pont alatt találjuk. Amennyiben nincs ilyen, úgy a plugin telepítése nem sikerült megfelelően. </p>
<div class="admonition note">
<p class="admonition-title">Webes generátor használata KMP projekt létrehozásához</p>
<p>Amennyiben az IDE varázsló használata során probléma vagy hibásan generált projektbe ütköznénk (nem jellemző), használhatjuk az alábbi, webes generátort is: <a href="https://kmp.jetbrains.com/">https://kmp.jetbrains.com/</a>. </p>
</div>
<p>Hozzuk létre a projektet az alábbiaknak megfelelően:</p>
<ol>
<li>Az alkalmazás neve <em>KMPIntroduction</em> legyen</li>
<li>A package name <em>hu.bme.aut</em></li>
<li>A minimum SDK az Android platform SDK minimum verzióját jelenti, hagyhatjuk a defaulton (API 24 "Nougat")</li>
<li>Válasszuk ki a projekt lokációját a Git repositorynkban, majd &gt; Next</li>
</ol>
<p>Ezután kell kiválasztanunk, hogy milyen platformokat szeretnénk támogatni a projektünkben.</p>
<ol>
<li>Pipáljuk be mindet: Android, iOS, Desktop és Web</li>
<li>Kiválaszthatjuk a mobilos és Desktop / Web platformokhoz, hogy szeretnénk-e megosztani a felhasználói felület kódját. Mindkettőre igent válaszoljunk (Share UI).</li>
<li>Pipáljuk be a Server és Include Tests opciókat is, ezek értlemszerűen egy szervert Ktor keretrendszerben, illetve default teszt modulokat is generálnak</li>
<li>Ha minden rendben, &gt; Finish</li>
</ol>
<div class="admonition note">
<p class="admonition-title">További templatek</p>
<p>Az alap, általános templaten túl további kiinduló projektek is elérhetők a webes generátorban, a <a href="https://kmp.jetbrains.com/templates/">https://kmp.jetbrains.com/templates/</a> linken. A megfelelő template kiinduló projektje letölthető.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Projekt feltöltése</p>
<p>A teljes projekt, beleértve a forráskód változásait a labor végén lévő feladatokban, szerepeljen a remote repositoryban is, ne felejtsük el a screenshotok mellé azt is felpusholni.</p>
</div>
<h2 id="projekt-szerkezetenek-attekintese">Projekt szerkezetének áttekintése<a class="headerlink" href="#projekt-szerkezetenek-attekintese" title="Permanent link">¶</a></h2>
<p>A letöltött projektet megnyitva automatikusan elindul a projekt Gradle importálása, amelynek sikeres lefutása után a következőhöz hasonlót kell látnunk. Fontos, hogy Android Studioban a szokásos <em>Android</em> nézet helyett  a <em>Project</em> nézetet válasszuk:</p>
<p align="center">
<a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="./assets/project_structure.jpg" data-desc-position="bottom"><img src="./assets/project_structure.jpg" width="200"></a>
</p>

<div class="admonition info">
<p class="admonition-title">Gradle taskok futásideje</p>
<p>A gradle import és minden egyéb gradle taskok futása a legelső alkalommal lassú lehet, viszont a későbbi futtatások a gradle cachelési működése miatt már gyorsabbak lesznek.</p>
</div>
<p>Tekintsük most át a projekt felépítését! A fontosabb elemek a következők:</p>
<ul>
<li>A <code>.gradle</code> folder tartalmazza az importálás során letöltött függőségeket és egyéb metaadatokat.</li>
<li>A <code>.idea</code> folder tartalmazza a projekt lokális IDE beállításait.</li>
<li>A <code>composeApp</code> gradle almodul tartalmazza a projektünk felhasználói felületéhez tartozó forráskódot és erőforrásfájlokat. A <code>src</code> mappán belül láthatjuk a különböző platformokhoz tartozó Source Seteket: <code>commonMain</code>, <code>iosMain</code>, <code>jvmMain</code> és <code>webMain</code> (illetve <code>commonTest</code> a közös UI kódhoz tartozó teszteknek). Mindegyik modulon belül egy .kt kiterjesztésű fájlt találunk, ezekben található az alkalmazás belépési pontja az adott platformra. A közös UI a commonMain <code>App</code> függvényében van definiálva, ahol Compose Multiplatform segítségével egy gombot jelenítünk meg. Ennél többet jelenleg még nem kell tudnunk róla, a Composeról részletesebben a következő laboron (és a kapcsolódó előadásokon) hallunk majd.</li>
<li>A  <code>gradle</code> folder a Gradle beállításait és verzióinformációit tartalmazza.</li>
<li>Az <code>iosApp</code> az iOS alkalmazás XCode projektje, ami közvetlenül megnyitható XCodeban. Swift kódot tartalmazhat, ami az IOS app futtatásához szükséges. Amennyiben nem shared UI-t használnánk az iOS alkalmazáshoz, itt kellene megírni annak UI kódját is.</li>
<li>A <code>server</code> mappában található a Ktor szerverünkhöz tartozó forráskód, erőforrás állományok és a fordítás közben generált egyéb fájlok (függőségek, classfájlok, bat fájlok stb). Az <code>Application</code> fájlban van definiálva a szerver elindítása és egy default <code>get</code> végpont. Ennél többet jelenleg nem kell tudnunk róla.</li>
<li>A <code>shared</code> modul szerepe ugyanaz, mint a <code>composeApp</code> volt, viszont ide minden más, a felhasználói felületet nem érintő kód (üzleti logika és adatmodellek) kerül. Ily módon a Kotlin Multiplatform a projekt felépítésének szintjén is elkülöníti a UI-hoz szükséges kódot az alkalmazás többi részétől.</li>
<li>A <code>shared</code> és <code>composeApp</code> modulokban lévő <code>commonTest</code> az adott modul tesztjeit tartalmazza, egy <code>CommonTest</code> végződésű osztályon belül. Láthatjuk, hogy az osztályon belül a <code>@Test</code> annotációval ellátott metódusok lesznek a konkrét tesztesetek. Esetünkben egyetlen egyszerű teszt generálódott a kiinduló projekttel, amit futtatni is egyszerűen tudunk. Ha az osztály melletti dupla zöld nyílra kattintunk, akkor az osztályban lévő összes tesztet futtathatjuk egyszerre. Lehetőségünk van debug módban is futtatni, illetve lefedettségi metrikákat is generálni az adott tesztekre. Ugyanezt megtehetjük egyetlen tesztesetre is, az adott metódus melletti egyszeres zöld nyílra kattinta. Akármennyit is futtatunk, a kiválasztott konfiguráció után azt is meg kell mondanunk, hogy melyik platformon szeretnénk futtatni. A tesztelésről részletesebben később lesz szó.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Shared modul használata</p>
<p>A <code>shared</code> modul használata természetesen nem kötelező, akár a <code>composeApp</code>-on belül is elhelyezhetnénk az üzleti logikáért és adatmodellért felelős részeket. A JetBrains és a Google best practice ajánlásai között viszont már erősen szerepel a <em>shared</em> modulban való elkülönítés.</p>
</div>
<h2 id="kotlin-multiplatform-projektek-konfiguralasa-gradlevel">Kotlin Multiplatform projektek konfigurálása Gradlevel<a class="headerlink" href="#kotlin-multiplatform-projektek-konfiguralasa-gradlevel" title="Permanent link">¶</a></h2>
<p>Láthatjuk, hogy Android alkalmazásokhoz hasonlóan a KMP projektek kezelésére is a <em>Gradle</em> keretrendszert használhatjuk. A <em>Gradle</em> egy projektautomatizációs eszköz, ennek használatával végezhetjük el a függőségek kezelését, a fordítással és a futtatással kapcsolatos műveleteket.</p>
<p>A  <code>composeApp</code> és a <code>shared</code> modul gyökerében található az adott modul gradle konfigurációs fájlja (build.gradle.kts), nyissuk ezeket meg és tekintsük át a legfontosabb részeit!</p>
<p>A <em>plugins</em> blokkban adjuk meg a használt Gradle pluginokat. Esetünkben:</p>
<ul>
<li><code>kotlinMultiplatform</code>: Engedélyezi a Kotlin Multiplatform támogatást, lehetővé téve kód megosztását különböző platformok között. Segítségével definiálhatunk közös kódot, platform specifikus source seteket adhatunk meg (androidMain, iOSMain stb.), könnyedén konfigurálhatjuk a különböző targeteket, illetve lehetővé teszi az expect-actual mechanizmus használatát platformfüggő implementációkhoz.</li>
<li><code>androidApplication</code>: Az Android alkalmazás fordításához szükséges Gradle plugin.</li>
<li><code>composeMultiplatform</code>: Lehetővé teszi a felhasználói felület közös leírását a Jetpack Compose API segítségével.</li>
<li><code>composeCompiler</code>: A Compose komponensek megfelelő fordításához szükséges.</li>
<li><code>composeHotReload</code>: Compose Multiplatform Hot Reload funkcionalitását oldja meg, részletek későbbi laboron és előadáson.</li>
</ul>
<p>A <code>kotlin</code> blokkban definiáljuk a támogatott platformokat és a hozzájuk tartozó konfigurációkat függőségeket. Itt adjuk meg az Android, iOS, jvm, js és wasmJs SourceSetjeinket. Ezeken belül tudnánk további beállításokat is eszközölni, pl. <code>js</code> <code>browser</code> blokkját kibontva beállíthatnánk, milyen böngészőt használjon automatikus tesztek futtatásakor. A <code>sourceSets</code> blokkon belül adjuk meg a közös kód modulját (<code>commonMain</code>), annak beállításait és függőségeit itt részleteznénk.</p>
<div class="admonition note">
<p class="admonition-title">Intermediate SourceSet</p>
<p>A projektünk SourceSetjei valójában úgynevezett intermediate (köztes) SourceSetek, mert különböző, elemi SourceSetekre vonatkozó közös kódot fognak össze. Például az iosMain intermediate source set, mert az iOS-specifikus kódot közös helyen tartja a különböző architektúrák számára (iosX64, iosArm64, iosSimulatorArm64). Ezek a SourceSetek "beépítetten", a Kotlin Multiplatform által ajánlottak. Ha valamilyen okból fogva ezeket külön akarnánk kezelni, azt is megtehetjük, ez esetben saját, csak az adott platformra vonatkozó SourceSetet kellene létrehoznunk. Saját SourceSetet szintén itt, a <em>sourceSets</em> blokkon belül definiálhatunk az eddigiekhez hasonló módon, erre később látunk majd példát is.</p>
</div>
<p>Az <code>android</code> blokk tartalmazza az Android-specifikus konfigurációkat is:</p>
<ul>
<li>namespace: Az alkalmazás egyedi azonosítója.</li>
<li>compileSdk, minSdk, targetSdk: A támogatott Android SDK verziók.</li>
<li>buildTypes: A release és debug build konfigurációk.</li>
</ul>
<p>A <code>compose.desktop</code> blokk a Desktop alkalmazások beállításait tartalmazza. Például megadhatjuk:</p>
<ul>
<li>Az alkalmazás belépési pontját (mainClass).</li>
<li>A natív disztribúciós beállításokat, vagyis hogy milyen bináris formátumok generálását támogatja az alkalmazás (pl. .dmg, .msi, .deb fájlformátumokat a különböző operációs rendszerekhez).</li>
</ul>
<p>Vessünk egy pillantást a gradle &gt; libs.versions.toml fájlra is. Ez egy deklaratív módja a projektben használt függőségek és verziók áttekinhető kezelésének. Segítségével központilag kezelhetjük a verziókat, így könnyebb frissíteni azokat. A build.gradle.kts fájlok ezáltal tisztábbak és átláthatóbbak lesznek, illetve elejét vehetjük az eltérő verziók használatából adódó problémáknak is.</p>
<ul>
<li>A versions blokkban a különböző könyvtárak pontos verzióit adjuk meg.</li>
<li>A libraries blokkban az egyes függőségeket definiáljuk, amelyek egy adott verzióra hivatkoznak a versions blokkból.</li>
<li>A plugins blokkban a Gradle pluginokat és azok verzióit konfiguráljuk.</li>
</ul>
<p>Nézzük végig a többi Gradle-höz kapcsolódó fájlt is:</p>
<ul>
<li><code>gradle.properties</code>: Rendszerszintű beállításokat adhatunk meg a build-folyamattal, memória használattal és egyebekkel kapcsolatban.</li>
<li><code>gradlew</code>, <code>gradlew.bat</code>: Ezek biztosítják, hogy a Gradle megfelelően legyen telepítve a komponensek esetében és használhassunk hozzá kapcsolódó parancsokat (pl. <em>gradle build</em> ), ezeket a parancsokat - pontosabban a parancsok futtatásához szükséges wrappert a gyökérben található <code>/gradle</code> könyvtár tartalmazza</li>
<li><code>settings.gradle.kts</code> Itt találhatóak a projekt alapvető beállításai (pl. a projekt neve)</li>
</ul>
<h2 id="gradle-taskok">Gradle taskok<a class="headerlink" href="#gradle-taskok" title="Permanent link">¶</a></h2>
<p>Az alkalmazás futtatását és binárisok / végrehajthatók generálását a Gradle segítségével tehetjük meg. A Gradle az ehhez hasonló feladatokhoz úgynevezett <em>Taskokat</em> definiál, ezeket futtatva tudunk különböző műveleteket végrehajtani a projektünkön. A projekt Gradle importálásakor létrejöttek a megfelelő taskok, amiket használhatunk. Tekintsünk meg ezeket részletesebben!</p>
<div class="admonition warning">
<p class="admonition-title">JDK verzió</p>
<p>Ellenőrizzük, hogy rendelkezünk-e megfelelő verziójú JDK-val! Ennek legegyszerűbb módja parancssorban a <code>java -version</code> parancs kiadása. Amennyiben nem található JDK a pathen vagy 17.0-nál régebbi, telepítsünk egy legalább 17.0 vagy annál frissebb JDK-t, és frissítsük a környezeti változókat is:</p>
<ul>
<li>JAVA_HOME a JDK könyvtárra legyen állítva</li>
<li>PATH-ben pedig szerepeljen (a korábban már telepített java JDK-k előtt) a JDK <code>\bin</code> mappája</li>
</ul>
</div>
<p>A Gradle taskokat kétféleképpen is használhatjuk, parancssorból vagy az Android Studio grafikus felületén keresztül. Parancssorból a projekt gyökeréből <code>./gradlew</code> parancson keresztül tudjuk a különböző Gradle parancsokat futtatni. Az összes taskot listázhatjuk a következő paranccsal:</p>
<p><code>./gradlew tasks</code>,
vagy használhatjuk az <code>--all</code> flaget is, amely minden létező taskot listáz (azokat is, amikről szinte biztos, hogy nem kell tudnunk):
<code>./gradlew tasks --all</code></p>
<p>Parancssorból részletesebb információt is kaphatunk egy konkrét Gradle taskról az alábbi parancs kiadásával:</p>
<p><code>./gradlew help --task &lt;taskname&gt;</code></p>
<p>Android Studioban a <em>Gradle</em> ablakon belül az alábbihoz hasonlót kell látnunk:</p>
<p align="center">
<a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="./assets/gradle_tasks.jpg" data-desc-position="bottom"><img src="./assets/gradle_tasks.jpg" width="250"></a>
</p>

<div class="admonition note">
<p class="admonition-title">Hiányzó Gradle taskok a Gradle ablakban</p>
<p>Amennyiben nem látjuk a task kategóriákat, vagy azokat lenyitva nem látunk bennük semmit, próbálkozhatunk az alábbiakkal:</p>
<ul>
<li>File &gt; Settings &gt; Experimental, pipáljuk be a következőt: <code>Configure all Gradle tasks during Gradle Sync</code></li>
<li>Indítsuk újra az IDE-t</li>
<li>File &gt; Sync Project with Gradle Files (Ctrl+Shift+O)</li>
</ul>
</div>
<p>A Gradle taskok minden modulhoz az adott modulban lévő <code>Tasks</code> mappán belül vannak. Sokféle kategóriát látunk, azokon belül rengeteg Gradle taskot. Láthatjuk, hogy az egyes platformokhoz tartozó taskok külön kategóriákban vannak kezelve: android, compose desktop (JVM alapú desktop), kotlin browser (web). </p>
<div class="admonition note">
<p class="admonition-title">Hiányzó iOS taskok</p>
<p>Figyeljük meg, hogy iOS-hez tartozó taskokat többnyire nem látunk. Ennek oka az, hogy iOS-re való fordítás és futtatás csak macOS-en, XCode-on keresztül történhet, semmilyen más környezetből nem lehetséges. </p>
</div>
<p>Tekintsük át a számunkra legfontosabbakat!</p>
<h3 id="altalanos-taskok-forditas-es-tesztek-futtatasa">Általános taskok: fordítás és tesztek futtatása<a class="headerlink" href="#altalanos-taskok-forditas-es-tesztek-futtatasa" title="Permanent link">¶</a></h3>
<p>A következő taskok nem kifejezetten a Kotlin Multiplatform projektekhez léteznek, hanem általánosak, amelyek minden Gradle által kezelt projektben megtalálhatóak. Ezek közül is sokféle van, a legfontosabbak, amikre szükségünk lehet, a következők.</p>
<ul>
<li>Parancssorból: <code>./gradlew build</code></li>
<li>Android Studio Gradle ablakban: <code>Tasks</code> → <code>build</code> → <code>build</code></li>
</ul>
<p>A teljes projekt minden modulját fordítja (amennyiben a gyökér könyvtárban adjuk ki). Ez nem futtatható állományok előállítását jelenti,  csupán a teljes projekt kotlin kódját fogja lefordítani. Arra célszerű használni néha, hogy ellenőrizzük, minden megfelelően működik-e a projektben fordítási időben.</p>
<ul>
<li>Parancssorból: <code>./gradlew clean</code></li>
<li>Android Studio Gradle ablakban: <code>Tasks</code> → <code>build</code> → <code>clean</code></li>
</ul>
<p>Minden build során keletkezett fájlt (tipikusan a <code>build</code> folder tartalma, vagyis class fájlok, executablek stb.) eltávolít a projektből. Fordítás szempontjából friss, alapállapotba juttatja a projektet. Hasznos, ha furcsa fordítási hibákkal küzdünk.</p>
<ul>
<li>Parancssorból: <code>./gradlew compileKotlin&lt;Platform&gt;</code></li>
<li>Android Studio Gradle ablakban: <code>Tasks</code> → <code>build</code> → <code>compileKotlin&lt;Platform&gt;</code></li>
</ul>
<p>Csak az adott, konkrét platformra fordítja a Kotlin kódot, pl. <code>compileKotlinJvm</code>, <code>compileKotlinJs</code>. Ehhez hasonló egyéb kotlin fordítással kapcsolatos taszkot is találhatunk. Ezekkel tipikusan nem kell foglalkoznunk, mert a sima <code>build</code> task ezt mind magától kezeli.</p>
<ul>
<li>Parancssorból: <code>./gradlew allTests</code></li>
<li>Android Studio Gradle ablakban: <code>Tasks</code> → <code>verification</code> → <code>allTests</code></li>
</ul>
<p>Ahogy a neve is mutatja, a projekt összes tesztjét lefuttatja az összes platformon és egy összefoglaló jelentést is ad az eredményről.</p>
<h3 id="az-alkalmazas-futtatasa">Az alkalmazás futtatása<a class="headerlink" href="#az-alkalmazas-futtatasa" title="Permanent link">¶</a></h3>
<p>Vegyük észre, hogy az Android Studio run configurationjei között automatikusan megjelentek a futtatáshoz szükséges konfigurációk! Az alábbiakat kell látnunk:</p>
<p align="center">
<a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="./assets/runconfigs.jpg" data-desc-position="bottom"><img src="./assets/runconfigs.jpg" width="250"></a>
</p>

<p>Ily módon nem kell mást tennünk, mint a megfelelő platformra való konfigurációt futtatni, és máris elindul az alkalmazás. Az egyes konfigurációkat megnyitva és jobban szemügyre véve azonban láthatjuk, hogy ezek a háttérben Gradle (és még potenciálisan egyéb más) parancsokra vezetik vissza a futtatást, tehát csupán egy nagyon egyszerű absztrakciót adnak arra, hogy könnyen futtathassuk az alkalmazásunkat minden platformon. A gyakorlatban ezt használjuk, azonban a teljesség kedvéért nézzük meg kicsit részletesebben azt is, közvetlenül milyen Gradle parancsokat tudnánk használni!</p>
<p>Ahhoz, hogy Androidon futtassuk, szükségünk van egy csatlakoztatott emulátorra, vagy fizikailag csatlakoztatott Android eszközre. A futtatáshoz az <code>adb</code>-re lesz szükségünk, mindenekelőtt azonban telepítenünk kell az alkalmazást az emulátorra / csatlakoztatott eszközre. A korábbiak alapján hozzunk létre egy emulátort (amennyiben még nem volt). Az alkalmazás telepítéséhez a következő lehetőségeink vannak:</p>
<ul>
<li>Parancssorból: <code>./gradlew :composeApp:installDebug</code>: Csatlakoztatott eszközre / emulátorra telepíti az alkalmazást Debug módban. Ehhez előbb el kell indítanunk az emulátort.</li>
<li>Android Studio Gradle ablakban: <code>composeApp</code> → <code>Tasks</code> → <code>install</code> → <code>installDebug</code></li>
</ul>
<p>Ezután: <code>adb shell am start -n hu.bme.aut.kmpintroduction/.MainActivity</code></p>
<p>Mindezt összevonhatnánk egyetlen custom Gradle taskban is, ez azonban már túlmutat a labor keretein, ezért ezt most nem tesszük meg.</p>
<p>Láthatjuk, hogy a <code>gradlew</code> parancsainak futtatásakor a <code>:&lt;modulnév&gt;:</code> szintaxissal navigálhatunk a Gradle modulok között. Esetünkben a <code>:composeApp:installDebug</code> azt jelenti, hogy a főmodulból keressük meg a <code>composeApp</code> modult, és annak az <code>installDebug</code> taskját futtassuk Ez egyben arról is ad információt, hol keressük az adott taskot a grafikus felületen: amelyik modul szerepel közvetlenül a task előtt, annak a taskjai között fogjuk megtalálni az adott parancsot.</p>
<p>Desktop esetén a következő módon járunk el:</p>
<ul>
<li>Parancssorból: <code>./gradlew :composeApp:run</code></li>
<li>Android Studio Gradle ablakban: <code>composeApp</code> → <code>Tasks</code> → <code>compose desktop</code> → <code>run</code></li>
</ul>
<p>Webes futtatáshoz:</p>
<ul>
<li>Parancssorból: <code>./gradlew :composeApp:wasmJsBrowserDevelopmentRun</code>: Webassembly development módban (debug).</li>
<li>Android Studio Gradle ablakban: <code>composeApp</code> → <code>Tasks</code> → <code>kotlin browser</code> → <code>wasmJsBrowserDevelopmentRun</code></li>
<li>Parancssorból: <code>./gradlew :composeApp:wasmJsBrowserProductionRun</code>: Webassembly production módban (release).</li>
<li>Android Studio Gradle ablakban: <code>composeApp</code> → <code>Tasks</code> → <code>kotlin browser</code> → <code>wasmJsBrowserDevelopmentRun</code></li>
<li>Parancssorból: <code>./gradlew :composeApp:jsBrowserDevelopmentRun</code>: JS development módban (debug).</li>
<li>Android Studio Gradle ablakban: <code>composeApp</code> → <code>Tasks</code> → <code>kotlin browser</code> → <code>jsBrowserDevelopmentRun</code></li>
<li>Parancssorból: <code>./gradlew :composeApp:jsBrowserProductionRun</code>: JS production módban (release).</li>
<li>Android Studio Gradle ablakban: <code>composeApp</code> → <code>Tasks</code> → <code>kotlin browser</code> → <code>jsBrowserProductionRun</code></li>
</ul>
<div class="admonition info">
<p class="admonition-title">Futtatás iOS-en</p>
<p>iOS-en való futtatáshoz macOS-re, és azon telepített XCode-ra van szükség. Fontos, hogy ez nem a Kotlin Multiplatform limitációja, hanem tudatos döntés az <em>Apple</em> részéről. Egy XCodeban létrehozott és elindított emulátoron lehet futtatni az alkalmazás iOS-verzióját az Androidos verzióhoz hasonlóan. Amennyiben van rá eszközünk, próbáljuk ki ezt is! Erre kétféle megközelítést is használhatunk, például az alábbiak szerint kell eljárnunk, ha lokálisan szeretnénk integrálni az iOS projektünket XCodeban. Részletesebben erről itt olvashatunk: <a href="https://kotlinlang.org/docs/multiplatform/multiplatform-ios-integration-overview.html">https://kotlinlang.org/docs/multiplatform/multiplatform-ios-integration-overview.html</a></p>
<ul>
<li>Nyissuk meg az iOS projektet XCodeban! Keressük meg az iosApp foldert, ebben megtaláljuk a projektfájlt: <code>iosApp.xcodeproj</code>. Nyissuk ezt meg XCodeban! (pl. jobb klikk &gt; Open In &gt; Open in Associated APplication)</li>
<li>Konfiguráljuk a projektet XCodeban! Jelöljük ki a projektet a projekt navigátorban, a <em>Targets</em> alatt jelöljük ki a main app targetet. A <em>Build Phases</em> taben kattintsunk a "+" gombra, majd válasszuk a <em>New Run Script Phase</em> opciót. Húzzuk ezt be úgy, hogy a <em>Compile Sources</em> fázis előtt legyen. Nyissuk ki az új <em>Run Script</em> fázist, és másoljuk be a következő bash scriptet:
<div class="highlight"><pre><span></span><code>cd "$SRCROOT/.."
./gradlew :shared:embedAndSignAppleFrameworkForXcode
</code></pre></div>
Ezután navigáljunk a <em>Build Settings</em> tabre, és a <em>Build Options</em> alatt a <em>User Script Sandboxing</em> opciót állítsuk "No"-ra. Ha ezt nem tesszük meg, nem fog megfelelően lefutni a scriptünk.</li>
<li>Válasszunk ki egy szimulátort vagy csatlakoztatott eszközt. Fordítsuk és futtassuk az alkalmazást (Build and Run)!</li>
</ul>
</div>
<p>Futtassuk ezek alapján az alkalmazást, nézzük meg minden elérhető platformon! A gomb megnyomása után az alábbihoz hasonlót kell látnunk!</p>
<p align="center">
<a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="./assets/run_example.jpg" data-desc-position="bottom"><img src="./assets/run_example.jpg" width="350"></a>
</p>

<h3 id="az-alkalmazas-disztribucioja">Az alkalmazás disztribúciója<a class="headerlink" href="#az-alkalmazas-disztribucioja" title="Permanent link">¶</a></h3>
<p>Lássuk most, hogyan tudunk közvetlenül futtatható binárisokat / telepítőket készíteni a projektünkből az egyes platformokra. Minden esetben csupán annyit kell tennünk, hogy kiadjuk a megfelelő Gradle parancsot, majd megkeressük a generált állomány(oka)t a projektünkben. Minden esetben az adott modul <code>build</code> folderében fogjuk találni, hiszen ide kerülnek a fordítás során generált fájlok.</p>
<div class="admonition note">
<p class="admonition-title">Hiányzó vagy hiányos build folder</p>
<p>Amennyiben azt tapasztaljuk, hogy sikeres volt a fordítás és mégsem találjuk a kimenetet a <code>build</code> folder megfelelő alkönyvtárában, akkor jobb klikk a <code>build</code> folderen &gt; Reload from Disk.</p>
</div>
<p>Android esetén egy <em>apk</em> állományt szeretnénk előállítani, amit közvetlenül telepíthetünk emulátorra vagy fizikai eszközre is. Ehhez a következő parancsot használhatjuk:</p>
<ul>
<li>Parancssorból: <code>./gradlew :composeApp:assembleDebug</code> vagy <code>./gradlew :composeApp:assembleRelease</code>: Apk előállítása debug vagy release módban.</li>
<li>Android Studio Gradle ablakban: <code>composeApp</code> → <code>Tasks</code> → <code>build</code> → <code>assemble</code></li>
</ul>
<p>A generált apk a következő elérésen található:
<code>composeApp/build/outputs/apk/debug/composeApp-debug.apk</code> a debug verzió,
<code>composeApp/build/outputs/apk/release/composeApp-release-unsigned.apk</code> a release verzió.</p>
<p>JVM desktop esetén többféleképpen járhatunk el. Az első variáció, hogy egy <em>jar</em> állományt készítünk, ezt tudjuk közvetlenül JRE-n keresztül futtatni az adott céleszközön.</p>
<ul>
<li>Parancssorból: <code>./gradlew :composeApp:packageUberJarForCurrentOS</code></li>
<li>Android Studio Gradle ablakban: <code>composeApp</code> → <code>Tasks</code> → <code>compose desktop</code> → <code>packageUberJarForCurrentOS</code></li>
</ul>
<p>Ezt a következő módon futtathatjuk. Fontos, hogy ehhez telepítve kell lennie legalább 17-es JRE-nek az adott eszközön.</p>
<p><code>java -jar &lt;app-name&gt;.jar</code></p>
<p>A másik megközelítés, hogy nem Jar fájlt generálunk, hanem a JVM-et kikerülve közvetlenül végrehajtható állományt az adott operációs rendszerre (macOS, linux, windows). Fontos, hogy ezt a fordítást csak arra az OS-re tudjuk megtenni, amelyiken éppen fejlesztjük az adott Kotlin Multiplatform projektet. Ha pl. Windowson fejlesztünk, akkor csak windowsra tudjuk ezt megtenni, linuxra és macOS-re nem. Ha mégis a többire is szeretnénk, akkor célszerű inkább a JVM alapú megoldást választani.</p>
<ul>
<li>Parancssorból: <code>./gradlew :composeApp:packageDmg</code> macOS-re</li>
<li>Parancssorból: <code>./gradlew :composeApp:packageMsi</code> windowsra</li>
<li>Parancssorból: <code>./gradlew :composeApp:packageDeb</code> linuxra</li>
<li>Android Studio Gradle ablakban: <code>composeApp</code> → <code>Tasks</code> → <code>compose desktop</code> → <code>packageReleaseDmg</code></li>
<li>Android Studio Gradle ablakban: <code>composeApp</code> → <code>Tasks</code> → <code>compose desktop</code> → <code>packageReleaseMsi</code></li>
<li>Android Studio Gradle ablakban: <code>composeApp</code> → <code>Tasks</code> → <code>compose desktop</code> → <code>packageReleaseDeb</code></li>
</ul>
<p>A generált végrehajtható állományunk a <code>composeApp/build/compose/binaries/main/[dmg | msi | deb]/</code> folderekben található.</p>
<p>Javascript alapú webes környezetben statikus web fájlokat állítunk elő (HTML, JS, erőforrások), amiket közvetlenül telepíthetünk webszerverre. A belépési pont tipikusan egy <code>index.html</code> fájl lesz.</p>
<ul>
<li>Parancssorból: <code>./gradlew :composeApp:jsBrowserDistribution</code></li>
<li>Android Studio Gradle ablakban: <code>composeApp</code> → <code>Tasks</code> → <code>kotlin browser</code> → <code>jsBrowserDistribution</code></li>
</ul>
<p>A generált fájlokat a <code>composeApp/build/dist/js/productionExecutable/</code> útvonalon találjuk.</p>
<p>Webassembly esetén .wasm binárisokat, Javascript "glue code"-ot és HTML kódot generálunk, amelyeket szintén közvetlenül telepíthetünk webszerverre.</p>
<ul>
<li>Parancssorból: <code>./gradlew :composeApp:wasmJsBrowserDistribution</code></li>
<li>Android Studio Gradle ablakban: <code>composeApp</code> → <code>Tasks</code> → <code>kotlin browser</code> → <code>wasmJsBrowserDistribution</code></li>
</ul>
<p>A generált fájlokat a <code>composeApp/build/dist/wasmJs/productionExecutable/</code> útvonalon találjuk.</p>
<p>Próbáljuk ki a fordításokat minden platformra, nézzük meg a generált állományokat is! Érdekességképpen futtassuk / telepítsük is a generált állományokon keresztül az alkalmazást, akár másik eszközön is! Ezt legegyszerűbben és legrövidebben desktopon tehetjük meg, akár JVM, akár közvetlenül generált bináris esetén.</p>
<h2 id="forraskod-attekintese">Forráskód áttekintése<a class="headerlink" href="#forraskod-attekintese" title="Permanent link">¶</a></h2>
<p>Tekintsük át most röviden, milyen kiinduló kódot generált nekünk a varázsló. A korábbiaknak megfelelően az üzleti logika és adatmodell kódját a <code>shared</code> modulon belül,  az egyes SourceSetekben találjuk az adott platformhoz tartozó kódot, a közös kódot pedig a commonMain SourceSetben. Nézzük meg először ezt!</p>
<div class="admonition info">
<p class="admonition-title">Függőségek használata SourceSetekben</p>
<p>Fontos megjegyezni, hogy az egy adott SourceSetben használható függőségeket a Gradle-ben definiált függőségeken felül az határozza meg, hogy a SourceSet milyen platformokat céloz. Csak és kizárólag olyan API-kat használhatunk egy SourceSetben, ami minden targeten elérhető. Mivel a commonMain minden platformra közös kódot tartalmaz, ezért csak olyan függőségeket használhatunk, amik mindegyiken elérhetőek. Emiatt szigorúan véve nem használhatunk platform-specifikus függőségeket common kódban. Ha például megpróbáljuk a java.util.Random osztályt használni, a fejlesztőkörnyezet nem ismeri fel és automatikusan kijavítja nekünk egy másik, hasonló importra. Ahhoz, hogy tudjuk használni a megszokott sztenderd könyvtárak által szolgáltatott API-kat (pl. fájlkezelés, matematikai műveletek stb) common kódból, a kotlin package megfelelő API-jait használhatjuk (pl. java.util.Random helyett kotlin.random.Random).</p>
</div>
<p>A Platform.kt-ban találhatunk egy közös interfacet, amely egy platformot és annak nevét deklarálja. Találunk még itt egy <code>expect</code> kulcsszóval ellátott metódus deklarációt is, amelyen keresztül egy Platform objektumra szerezhetünk referenciát.</p>
<div class="highlight"><pre><span></span><code><span class="kd">expect</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">getPlatform</span><span class="p">():</span><span class="w"> </span><span class="n">Platform</span>
</code></pre></div>
<p>Kotlin Multiplatformon expect-actual függvényekkel tudunk platformspeficikus viselkedést leírni az alkalmazásban. Bár a platformspecifikus viselkedést nem tudjuk megvalósítani közös kódban (nem is szeretnénk), annak konkrét megvalósítását rábízhatjuk a platform-függő SourceSetekre és közös kódon belül úgy használhatjuk ezeket a függvényeket, mintha ismert lenne a megvalósítása. A közös kódban definiált, <code>expect</code> kulcsszóval ellátott függvény meghívható közös kódon belül bárhol, és futás közben a Kotlin Multiplatform automatikusan fogja a megfelelő platform által megvalósított implementációt meghívni.</p>
<p>Minden, expect kulcsszóval deklarált metódushoz tartoznia kell minden platformon egy olyan <code>actual</code> kulcsszóval ellátott metódusnak, amelynek megegyezik a szignatúrája az expect megfelelőjével. A platform-specifikus SourceSetjeinkben ezt meg is figyelhetjük, például android esetén (<code>androidMain</code>) a megvalósítása a következő, de minden más platformon is hasonlóan járunk el:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">AndroidPlatform</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Platform</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"Android </span><span class="si">${</span><span class="n">Build</span><span class="p">.</span><span class="na">VERSION</span><span class="p">.</span><span class="na">SDK_INT</span><span class="si">}</span><span class="s">"</span>
<span class="p">}</span>

<span class="kd">actual</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">getPlatform</span><span class="p">():</span><span class="w"> </span><span class="n">Platform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AndroidPlatform</span><span class="p">()</span>
</code></pre></div>
<p>A platform-függő SourceSetjeink-ben természetesen fel tudunk használni minden olyan kódot, amit a common kódban valósítottunk meg. Ezt láthatjuk az előző példán is, ahol az <em>AndroidPlatform</em> osztályunk a közös kódban definiált <em>Platform</em> osztály leszármazottja.</p>
<p>Végezetül térjünk vissza a <code>composeApp</code> modulhoz. Ahogy azt korábban láttuk, a <code>commonMain</code> modul <code>App</code> függvénye felelős a közös UI megvalósításáért. Itt használjuk fel a <code>Greeting</code> osztályunkat is a következő módon:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">greeting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">remember</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Greeting</span><span class="p">().</span><span class="na">greet</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p>Majd azt az alábbi módon írjuk ki a felületre:</p>
<div class="highlight"><pre><span></span><code><span class="n">Text</span><span class="p">(</span><span class="s">"Compose: </span><span class="si">$</span><span class="n">greeting</span><span class="s">"</span><span class="p">)</span>
</code></pre></div>
<p>Módosítsuk az alkalmazásunkat úgy, hogy a Greeting által kiírt üdvözlő szöveghez fűzzük hozzá a neptun kódunkat! Ügyeljünk arra, hogy a megoldásunk minden platformon működjön, kódduplikáció nélkül! Például, AAA000 neptun kód esetén a következőt kell kapnunk:</p>
<div class="highlight"><pre><span></span><code><span class="s">"Hello, {Platform} - AAA000!"</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ (2 pont)</p>
<p>Készítsünk egy <strong>képernyőképet</strong>, amelyen a kiinduló alkalmazás fut tetszőleges platformon, és látszik a "Hello {Platform} - {Neptun-kód}" felirat. A kép a megoldásban a repositoryban f1.png néven szerepeljen! </p>
<p>Készítsünk egy <strong>képernyőképet</strong>, amelyen a módosított forráskód megfelelő része látszik. A kép a megoldásban a repositoryban f2.png néven szerepeljen!</p>
</div>
<details class="question">
<summary>Melyik SourceSet melyik fájlját kell módosítanunk ahhoz, hogy minden platformon látszódjon a változás? Hogyan tudnánk elérni, ha csak például Android platformon szereténk látni a Neptun-kódot?</summary>
</details>
<h2 id="forraskod-bovitese">Forráskód bővítése<a class="headerlink" href="#forraskod-bovitese" title="Permanent link">¶</a></h2>
<p>Bővítsük ki a kiinduló kódot úgy, hogy a Platform információ helyett jelenítsük meg a futtató eszköz tényleges operációs rendszerének nevét és verzióját!
Ehhez vegyünk fel a közös kódba egy <em>DeviceInfo</em> osztályt, amely tartalmazni fogja ezt a két információt, majd hozzunk létre egy expect függvényt, amely visszaadja azokat:
</p><div class="highlight"><pre><span></span><code><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">DeviceInfo</span><span class="p">(</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">osName</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">osVersion</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span>
<span class="p">)</span>

<span class="kd">expect</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">getDeviceInfo</span><span class="p">():</span><span class="w"> </span><span class="n">DeviceInfo</span>
</code></pre></div>
Vegyük észre, hogy a fejlesztőkörnyezet fordítási hibával jelzi, hogy az expect függvényünknek még nincs actual megvalósítása egyik platformon se. Ezt megkönnyíti nekünk azzal, hogy felajánlja automatikusan az actual függvény generálását a hiányzó platformokra, éljünk is ezzel a lehetőséggel.<p></p>
<p>A fejlesztőkörnyezet az expect-actual függvények közötti könnyű navigációban is segít minket. A függvény sorának száma melletti kis ikonra kattintva azonnal oda tudunk navigálni egy expect függvény actual megvalósításaihoz, vagy fordított irányban is egy actual függvény expect párjához.</p>
<p>Használjuk fel ezt a függvényt az App-ban úgy, hogy a korábbi Platform információk helyett a DeviceInfo által visszaadott adatokat jelenítsük meg.</p>
<div class="highlight"><pre><span></span><code><span class="n">Text</span><span class="p">(</span><span class="s">"OS name: </span><span class="si">${</span><span class="n">deviceInfo</span><span class="p">.</span><span class="na">osName</span><span class="si">}</span><span class="s">, OS version: </span><span class="si">${</span><span class="n">deviceInfo</span><span class="p">.</span><span class="na">osVersion</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div>
<p>Végül töltsük ki a DeviceInfo actual függvényeit a különböző platformokon a megfelelő API felhasználásával.</p>
<p>Androidon:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nn">android.os.Build</span>

<span class="kd">actual</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">getDeviceInfo</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DeviceInfo</span><span class="p">(</span><span class="n">osName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"Android"</span><span class="p">,</span><span class="w"> </span><span class="n">osVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Build</span><span class="p">.</span><span class="na">VERSION</span><span class="p">.</span><span class="na">RELEASE</span><span class="p">)</span>
</code></pre></div>
<p>iOS-en:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nn">platform.UIKit.UIDevice</span>

<span class="kd">actual</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">getDeviceInfo</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DeviceInfo</span><span class="p">(</span><span class="n">osName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UIDevice</span><span class="p">.</span><span class="na">currentDevice</span><span class="p">.</span><span class="na">systemName</span><span class="p">(),</span><span class="w"> </span><span class="n">osVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UIDevice</span><span class="p">.</span><span class="na">currentDevice</span><span class="p">.</span><span class="na">systemVersion</span><span class="p">)</span>
</code></pre></div>
<p>Desktopon:</p>
<div class="highlight"><pre><span></span><code><span class="kd">actual</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">getDeviceInfo</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DeviceInfo</span><span class="w"> </span><span class="p">(</span><span class="n">osName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="s">"os.name"</span><span class="p">)</span><span class="w"> </span><span class="o">?:</span><span class="w"> </span><span class="s">"Unknown"</span><span class="p">,</span><span class="w"> </span><span class="n">osVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="s">"os.version"</span><span class="p">)</span><span class="w"> </span><span class="o">?:</span><span class="w"> </span><span class="s">"Unknown"</span><span class="p">)</span>
</code></pre></div>
<p>Weben:
</p><div class="highlight"><pre><span></span><code><span class="c1">// A böngészőben nincs közvetlen hozzáférés az operációs rendszer verziójához </span>
<span class="kd">actual</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">getDeviceInfo</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DeviceInfo</span><span class="p">(</span><span class="n">osName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"Web"</span><span class="p">,</span><span class="w"> </span><span class="n">osVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"Unknown"</span><span class="p">)</span>
</code></pre></div><p></p>
<p>Futtassuk az alkalmazást tetszőleges platformon! A gomb megnyomása után a kép alatt látszódnia kell az új feliratnak. Amennyiben a felirat egyáltalán nem látszódik, az nagyítási problémák miatt lehet, ekkor kijjebb kell zoomolni az alkalmazásban. Ezt legkönnyebben weben tudjuk megtenni, böngészőben.</p>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ (1 pont)</p>
<p>Készítsünk egy <strong>képernyőképet</strong>, amelyen az alkalmazás fut tetszőleges platformon, és látszik az új, OS nevét és verzióját kiíró felirat!  A kép a megoldásban a repositoryban f3.png néven szerepeljen!</p>
</div>
<h2 id="onallo-feladat-calculator-osztaly-hozzaadasa">Önálló feladat - Calculator osztály hozzáadása<a class="headerlink" href="#onallo-feladat-calculator-osztaly-hozzaadasa" title="Permanent link">¶</a></h2>
<ol>
<li>Készítsünk egy Calculator osztályt a közös kódban, amely képes a 4 alapműveletet elvégezni 2 operanduson!</li>
<li>Az alkalmazás a korábbiakhoz hasonlóan jelenítsen meg minden platformon 1-1 feliratot, amely mindegyike a Calculator egy-egy műveletére mutat példát, tetszőleges paraméterekkel!</li>
<li>Minden platformon különböző műveletet használjunk! Az alkalmazás belépési pontját csak a közös kódban, az eddig is látott <code>App.kt</code> fájlban módosítsuk, a platform-specifikus belépési pontokat ne változtassuk meg!</li>
</ol>
<p>A megoldás formátuma tehát a következőhöz hasonló legyen:</p>
<p>Weben:
</p><div class="highlight"><pre><span></span><code>2 * 3 = 6
</code></pre></div><p></p>
<p>Desktopon:
</p><div class="highlight"><pre><span></span><code>2 + 3 = 5
</code></pre></div><p></p>
<p>Androidon:
</p><div class="highlight"><pre><span></span><code>2 - 3 = -1
</code></pre></div><p></p>
<details class="tip">
<summary>Segítség</summary>
<p>A platform-függő üzenetet a korábbiakhoz hasonlóan expect-actual függvényekkel meg tudjuk oldani, ahol az üzenet a Calculator osztályt használja fel.</p>
</details>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ (2 pont)</p>
<p>Készítsünk 2 <strong>képernyőképet</strong>, amelyeken az alkalmazás fut tetszőleges, de különböző platformokon, és látszik a 2 különböző feirat! A képek a megoldásban a repositoryban f4.png és f5.png néven szerepeljenek!</p>
</div>

    <hr>
  <div class="md-source-file">
    <span class="md-source-file__fact"> <span class="md-icon" title="Utolsó frissítés"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z">
          </path>
        </svg>
      </span>
      <span title="2026. február 26. 00:44:45">
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="2026. február 26. 00:44:45 CET"><span class="timeago" datetime="2026-02-26T00:44:45+01:00" locale="hu"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="2026. február 26. 00:44:45 CET">2026-02-26</span>
      </span>
    </span>

    

    <span class="md-source-file__fact">
      <span class="md-icon" title="Szerzők">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z">
          </path>
        </svg>
      </span>
      <span>Szerzők</span>
      <nav><a href="https://github.com/NorbertSomogyi" target="_blank" rel="noopener noreferrer" class="md-author" title="@NorbertSomogyi">
          <img src="https://avatars.githubusercontent.com/u/17450027?v=4?size=72" alt="@NorbertSomogyi">
        </a><a href="https://github.com/web-flow" target="_blank" rel="noopener noreferrer" class="md-author" title="@web-flow">
          <img src="https://avatars.githubusercontent.com/u/19864447?v=4?size=72" alt="@web-flow">
        </a></nav>      
    </span>
  </div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            Vissza a tetejére
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © BME VIK AUT
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.instant", "navigation.top", "search.suggest", "content.code.copy"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "V\u00e1g\u00f3lapra m\u00e1solva", "clipboard.copy": "M\u00e1sol\u00e1s v\u00e1g\u00f3lapra", "search.result.more.one": "1 tov\u00e1bbi tal\u00e1lat az oldalon", "search.result.more.other": "# tov\u00e1bbi tal\u00e1lat az oldalon", "search.result.none": "Nincs tal\u00e1lat", "search.result.one": "1 egyez\u0151 dokumentum", "search.result.other": "# egyez\u0151 dokumentum", "search.result.placeholder": "Keres\u00e9shez \u00edrj ide valamit", "search.result.term.missing": "\u00dcres", "select.version": "Verzi\u00f3v\u00e1lt\u00e1s"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
      
        <script src="../../js/timeago.min.js"></script>
      
        <script src="../../js/timeago_mkdocs_material.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>